/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./dist/js/app.js":
/*!************************!*\
  !*** ./dist/js/app.js ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n(function isWebP() {\r\n   function testWebP(callback) {\r\n      let webP = new Image();\r\n      webP.onload = webP.onerror = function () {\r\n         callback(webP.height == 2);\r\n      };\r\n      webP.src =\r\n         \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n   }\r\n   testWebP(function (support) {\r\n      if (support == true) {\r\n         document.querySelector(\"html\").classList.add(\"webp\");\r\n      } else {\r\n         document.querySelector(\"html\").classList.add(\"no-webp\");\r\n      }\r\n   });\r\n})();\r\ngsap.registerPlugin(ScrollTrigger);\r\nconst body = document.body;\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n   headerWork();\r\n   initHomeHeroSlider();\r\n   hoverOnCatalog();\r\n   initProductSlider();\r\n   accordion(\".garanty-item__header\", \".garanty-item__spoiler\");\r\n   homeCardsSectionHover();\r\n   accordion(\r\n      \".footer__mobile .footer__block .footer__title\",\r\n      \".footer__mobile .footer__block .footer__spoiler\"\r\n   );\r\n   homeAboutParallax();\r\n   productCardWork();\r\n   makeCatalogFilters();\r\n   productPage();\r\n   animations();\r\n   authModals();\r\n   orderPage();\r\n   orderSuccessPage();\r\n   initSeriaSwiper();\r\n   initSaleSwiper();\r\n   profilePage();\r\n   comparePage();\r\n});\r\n\r\nfunction headerWork() {\r\n   const header = document.querySelector(\".header\");\r\n   const hero = document.querySelector(\".hero\");\r\n   let oldScrollTopPosition = 0;\r\n\r\n   const animateHeaderOnScroll = () => {\r\n      animateHeaderColor();\r\n      animateHeaderDown();\r\n   };\r\n   const animateHeaderColor = () => {\r\n      if (!hero) return;\r\n      if (window.scrollY > hero.clientHeight) {\r\n         header.classList.remove(\"blur\");\r\n         header.classList.contains(\"fill\") ? \"\" : header.classList.add(\"fill\");\r\n      } else if (window.scrollY < hero.clientHeight && window.scrollY > 0) {\r\n         header.classList.remove(\"fill\");\r\n         header.classList.contains(\"blur\") ? \"\" : header.classList.add(\"blur\");\r\n      } else if (window.scrollY <= 0) {\r\n         header.classList.remove(\"fill\");\r\n         header.classList.remove(\"blur\");\r\n      }\r\n      if (document.querySelector(\".about-hero\")) {\r\n         header.classList.remove(\"fill\");\r\n      }\r\n   };\r\n   const animateHeaderDown = () => {\r\n      if (window.innerWidth > 992) {\r\n         const scrollTopPosition = document.documentElement.scrollTop;\r\n         if (scrollTopPosition <= 0) {\r\n            return;\r\n         }\r\n         let scrollDown = oldScrollTopPosition < scrollTopPosition;\r\n         if (scrollDown) {\r\n            header.classList.contains(\"hidden-down\")\r\n               ? \"\"\r\n               : header.classList.add(\"hidden-down\");\r\n         } else {\r\n            header.classList.remove(\"hidden-down\");\r\n         }\r\n\r\n         oldScrollTopPosition = scrollTopPosition;\r\n      }\r\n   };\r\n\r\n   const burgerHover = () => {\r\n      if (window.innerWidth <= 1024) return;\r\n      const burger = document.querySelector(\".header__burger\");\r\n      const fill = document.querySelector(\".header__burger div\");\r\n\r\n      burger.onmouseenter = (event) => {\r\n         fill.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n         fill.style.width =\r\n            2 *\r\n               Math.sqrt(\r\n                  burger.clientWidth * burger.clientWidth +\r\n                     burger.clientHeight * burger.clientHeight\r\n               ) +\r\n            \"px\";\r\n         fill.style.height =\r\n            2 *\r\n               Math.sqrt(\r\n                  burger.clientWidth * burger.clientWidth +\r\n                     burger.clientHeight * burger.clientHeight\r\n               ) +\r\n            \"px\";\r\n      };\r\n      burger.onmousemove = (event) => {\r\n         fill.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n      };\r\n      burger.onmouseleave = (event) => {\r\n         fill.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n         fill.style.width = \"\";\r\n         fill.style.height = \"\";\r\n      };\r\n   };\r\n\r\n   const initColorTheme = () => {\r\n      if (!hero) {\r\n         header.classList.add(\"fill\");\r\n      }\r\n   };\r\n   const burger = document.querySelector(\".header__burger\");\r\n   const menu = document.querySelector(\".header-menu\");\r\n   const menuWork = () => {\r\n      const toggleMenu = () => {\r\n         if (menu.classList.contains(\"active\")) {\r\n            // bodyUnLock();\r\n            lenis.start();\r\n            burger.classList.remove(\"active\");\r\n            menu.classList.remove(\"active\");\r\n         } else {\r\n            // bodyLock();\r\n            lenis.stop();\r\n\r\n            burger.classList.add(\"active\");\r\n            menu.classList.add(\"active\");\r\n            setTimeout(() => {\r\n               header.classList.add(\"fill\");\r\n               header.classList.remove(\"blur\");\r\n            }, 300);\r\n            makeActiveAssort(0);\r\n            document\r\n               .querySelectorAll(\".menu-mobile__parent\")\r\n               .forEach((item) => {\r\n                  item.classList.remove(\"active\");\r\n               });\r\n         }\r\n      };\r\n      burger.addEventListener(\"click\", () => {\r\n         toggleMenu();\r\n      });\r\n      const assortLinks = document.querySelectorAll(\".header-menu__side a\");\r\n      const assortItems = document.querySelectorAll(\".header-assort\");\r\n      function makeActiveAssort(index) {\r\n         assortItems.forEach((assort) => {\r\n            assort.classList.remove(\"active\");\r\n         });\r\n         assortLinks.forEach((link) => {\r\n            link.classList.remove(\"active\");\r\n         });\r\n         assortLinks[index].classList.add(\"active\");\r\n         assortItems[index].classList.add(\"active\");\r\n      }\r\n      assortLinks.forEach((link, index) => {\r\n         link.onmouseenter = (e) => {\r\n            makeActiveAssort(index);\r\n         };\r\n         link.onmouseleave = (e) => {\r\n            console.log(!e.relatedTarget.closest(\".header-menu__main\"));\r\n            makeActiveAssort(index);\r\n            if (\r\n               !e.relatedTarget.closest(\".parent-list\") &&\r\n               !e.relatedTarget.closest(\".header-menu__main\")\r\n            ) {\r\n               makeActiveAssort(0);\r\n            }\r\n         };\r\n      });\r\n\r\n      const buttons = document.querySelectorAll(\".menu-mobile__parent button\");\r\n      buttons.forEach((item) => {\r\n         item.addEventListener(\"click\", () => {\r\n            item.closest(\".menu-mobile__parent\").classList.add(\"active\");\r\n         });\r\n      });\r\n      const titles = document.querySelectorAll(\".menu-mobile__title svg\");\r\n      titles.forEach((item) => {\r\n         item.onclick = (e) => {\r\n            console.log(e.target.closest(\".menu-mobile__parent.active\"));\r\n            e.target\r\n               .closest(\".menu-mobile__parent.active\")\r\n               .classList.remove(\"active\");\r\n         };\r\n      });\r\n   };\r\n   const searchWork = () => {\r\n      const btn = document.querySelector(\"[data-search-open]\");\r\n      const close = document.querySelector(\"[data-search-close]\");\r\n      const search = document.querySelector(\".header-search\");\r\n      btn.addEventListener(\"click\", (e) => {\r\n         e.preventDefault();\r\n         search.classList.add(\"active\");\r\n         lenis.stop();\r\n      });\r\n      close.addEventListener(\"click\", (e) => {\r\n         e.preventDefault();\r\n         search.classList.remove(\"active\");\r\n         lenis.start();\r\n      });\r\n   };\r\n   window.addEventListener(\"scroll\", animateHeaderOnScroll);\r\n   animateHeaderOnScroll();\r\n   burgerHover();\r\n   initColorTheme();\r\n   menuWork();\r\n   searchWork();\r\n}\r\n\r\nfunction initHomeHeroSlider() {\r\n   const videos = document.querySelectorAll(\".home-hero video\");\r\n   if (!document.querySelector(\".home-hero .swiper\")) return;\r\n   let slider = new Swiper(\".home-hero .swiper\", {\r\n      navigation: {\r\n         prevEl: \".home-hero .swiper-button-prev\",\r\n         nextEl: \".home-hero .swiper-button-next\",\r\n      },\r\n      pagination: {\r\n         el: \".home-hero .swiper-pagination\",\r\n      },\r\n      effect: \"fade\",\r\n      speed: 1000,\r\n      mousewheel: {\r\n         enabled: true,\r\n         forceToAxis: true,\r\n      },\r\n      on: {\r\n         slideChange(swiper) {\r\n            // https://metanit.com/web/html5/7.3.php // тут можно взять методы\r\n            videos.forEach((item) => {\r\n               item.currentTime = 0;\r\n               item.pause();\r\n            });\r\n            videos[swiper.activeIndex].play();\r\n         },\r\n      },\r\n   });\r\n   const soundBtn = document.querySelector(\".home-hero__sound .btn\");\r\n   const soundWave = document.querySelector(\".home-hero .sound-wave\");\r\n   soundBtn.addEventListener(\"click\", () => {\r\n      let isMuted = videos[0].muted ? true : false;\r\n      videos.forEach((video) => {\r\n         if (isMuted) {\r\n            video.muted = false;\r\n            soundBtn.innerHTML = \"Выключить звук\";\r\n            soundWave.classList.add(\"play\");\r\n         } else {\r\n            video.muted = true;\r\n            soundBtn.innerHTML = \"Включить звук\";\r\n            soundWave.classList.remove(\"play\");\r\n         }\r\n      });\r\n   });\r\n}\r\n\r\nfunction hoverOnCatalog() {\r\n   const cards = document.querySelectorAll(\".home-catalog__item\");\r\n   if (!cards.length) return;\r\n   cards.forEach((item) => {\r\n      item.onmouseenter = (event) => {\r\n         console.log(\"mouseenter\");\r\n         item.classList.add(\"hover\");\r\n         const circle = item.querySelector(\".catalog-card__bg\");\r\n         circle.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n         circle.style.width =\r\n            2 *\r\n               Math.sqrt(\r\n                  item.clientWidth * item.clientWidth +\r\n                     item.clientHeight * item.clientHeight\r\n               ) +\r\n            \"px\";\r\n         circle.style.height =\r\n            2 *\r\n               Math.sqrt(\r\n                  item.clientWidth * item.clientWidth +\r\n                     item.clientHeight * item.clientHeight\r\n               ) +\r\n            \"px\";\r\n         console.log(item.clientWidth);\r\n         console.log(item.clientHeight);\r\n      };\r\n      item.onmousemove = (event) => {\r\n         console.log(\"mousemove\");\r\n         const circle = item.querySelector(\".catalog-card__bg\");\r\n         circle.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n      };\r\n      item.onmouseleave = (event) => {\r\n         console.log(\"mouseleave\");\r\n         item.classList.remove(\"hover\");\r\n         const circle = item.querySelector(\".catalog-card__bg\");\r\n         circle.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n         circle.style.width = \"\";\r\n         circle.style.height = \"\";\r\n      };\r\n   });\r\n}\r\nfunction initProductSlider() {\r\n   if (!document.querySelector(\".product-section .swiper\")) return;\r\n   let swiper = new Swiper(\".product-section .swiper\", {\r\n      slidesPerView: \"auto\",\r\n      spaceBetween: 10,\r\n      navigation: {\r\n         prevEl: \".product-section .swiper-button-prev\",\r\n         nextEL: \".product-section .swiper-button-next\",\r\n      },\r\n      breakpoints: {\r\n         1025: {\r\n            slidesPerView: 4,\r\n         },\r\n      },\r\n      mousewheel: {\r\n         enabled: true,\r\n         forceToAxis: true,\r\n      },\r\n   });\r\n}\r\nfunction productCardWork() {\r\n   const products = document.querySelectorAll(\".product-card\");\r\n   if (!products.length) return;\r\n\r\n   const hoverOnCart = () => {\r\n      const carts = document.querySelectorAll(\".product-card__cart\");\r\n      carts.forEach((item) => {\r\n         const fill = item.querySelector(\"div\");\r\n         item.onmouseenter = (event) => {\r\n            console.log(\"mouseenter\");\r\n            fill.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n            fill.style.width =\r\n               2 *\r\n                  Math.sqrt(\r\n                     item.clientWidth * item.clientWidth +\r\n                        item.clientHeight * item.clientHeight\r\n                  ) +\r\n               \"px\";\r\n            fill.style.height =\r\n               2 *\r\n                  Math.sqrt(\r\n                     item.clientWidth * item.clientWidth +\r\n                        item.clientHeight * item.clientHeight\r\n                  ) +\r\n               \"px\";\r\n         };\r\n         item.onmousemove = (event) => {\r\n            console.log(\"mousemove\");\r\n\r\n            fill.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n         };\r\n         item.onmouseleave = (event) => {\r\n            console.log(\"mouseleave\");\r\n\r\n            fill.style.transform = `translate(${event.layerX}px, ${event.layerY}px)`;\r\n            fill.style.width = \"\";\r\n            fill.style.height = \"\";\r\n         };\r\n      });\r\n   };\r\n   const toggleActions = () => {\r\n      const showBtns = document.querySelectorAll(\".product-card__show\");\r\n      showBtns.forEach((item) => {\r\n         item.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            e.target.closest(\".product-card\").classList.add(\"active\");\r\n         });\r\n      });\r\n   };\r\n   const preventRouteChange = () => {\r\n      document.querySelectorAll(\".product-card__actions\").forEach((item) => {\r\n         item.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n         });\r\n      });\r\n      document\r\n         .querySelectorAll(\".product-card__colors button\")\r\n         .forEach((item) => {\r\n            item.addEventListener(\"click\", (e) => {\r\n               e.preventDefault();\r\n            });\r\n         });\r\n      document\r\n         .querySelector(\".product-card__cart\")\r\n         .addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n         });\r\n   };\r\n   toggleActions();\r\n   hoverOnCart();\r\n   preventRouteChange();\r\n}\r\nfunction homeCardsSectionHover() {\r\n   const cards = document.querySelectorAll(\".home-cards__item\");\r\n   if (!cards.length) return;\r\n   cards.forEach((item) => {\r\n      let spoiler = item.querySelector(\".collapse\");\r\n      item.onmouseenter = () => {\r\n         slideShow(spoiler);\r\n      };\r\n      item.onmouseleave = () => {\r\n         slideHide(spoiler);\r\n      };\r\n   });\r\n}\r\nfunction homeAboutParallax() {\r\n   const section = document.querySelector(\".home-about\");\r\n   let ratio = 0.3;\r\n   if (!section) return;\r\n   const image = section.querySelector(\".home-about__image img\");\r\n   let headerHeight = document.querySelector(\".header\").clientHeight;\r\n   window.addEventListener(\"scroll\", (e) => {\r\n      let start = section.getBoundingClientRect().top;\r\n      let end =\r\n         section.getBoundingClientRect().top +\r\n         section.clientHeight -\r\n         headerHeight;\r\n      if (start > 0) {\r\n         image.style.transform = `translate(0, 0px)`;\r\n      }\r\n      if (start < 0 && end > 0) {\r\n         let value = -1 * start * ratio;\r\n         image.style.transform = `translate(0, ${value}px)`;\r\n      }\r\n   });\r\n}\r\nfunction makeCatalogFilters() {\r\n   const filter = document.querySelector(\".catalog-filter\");\r\n   if (!filter) return;\r\n   makeRange(\"#priceRange\", 4000000, 100000);\r\n   makeRange(\"#lengthRange\", 2000, 10);\r\n   makeRange(\"#widthRange\", 200, 10);\r\n   makeRange(\"#heightRange\", 500, 10);\r\n   makeRange(\"#weigthRange\", 200, 5);\r\n   const openBtn = document.querySelector(\".catalog-filter__open\");\r\n   const closeBtn = document.querySelector(\".catalog-filter__close\");\r\n   const spoilers = () => {\r\n      const headers = document.querySelectorAll(\".filter-spoiler\");\r\n      headers.forEach((item) => {\r\n         item.addEventListener(\"click\", (e) => {\r\n            const spoiler = item.nextElementSibling;\r\n            if (spoiler.classList.contains(\"collapsing\")) return;\r\n            if (spoiler.classList.contains(\"collapse_show\")) {\r\n               slideHide(spoiler);\r\n               item.classList.remove(\"active\");\r\n            } else {\r\n               slideShow(spoiler);\r\n               item.classList.add(\"active\");\r\n            }\r\n         });\r\n      });\r\n   };\r\n   const open = () => {\r\n      filter.classList.add(\"open\");\r\n      body.classList.add(\"lock\");\r\n   };\r\n   const close = () => {\r\n      filter.classList.remove(\"open\");\r\n      body.classList.remove(\"lock\");\r\n   };\r\n\r\n   spoilers();\r\n   openBtn.addEventListener(\"click\", open);\r\n   closeBtn.addEventListener(\"click\", close);\r\n}\r\n\r\nfunction makeRange(blockSelector, max = 10000, gap = 500) {\r\n   //  Script.js\r\n   const rangevalue = document.querySelector(\r\n      blockSelector + \" \" + \".slider-container .price-slider\"\r\n   );\r\n   if (\r\n      !document.querySelector(\r\n         blockSelector + \" \" + \".slider-container .price-slider\"\r\n      )\r\n   )\r\n      return;\r\n   const rangeInputvalue = document.querySelectorAll(\r\n      blockSelector + \" \" + \".range-input input\"\r\n   );\r\n\r\n   // Set the price gap\r\n   let priceGap = gap;\r\n\r\n   // Adding event listners to price input elements\r\n   const priceInputvalue = document.querySelectorAll(\r\n      blockSelector + \" \" + \".price-input input\"\r\n   );\r\n   for (let i = 0; i < priceInputvalue.length; i++) {\r\n      priceInputvalue[i].addEventListener(\"input\", (e) => {\r\n         // Parse min and max values of the range input\r\n         let minp = parseInt(priceInputvalue[0].value);\r\n         let maxp = parseInt(priceInputvalue[1].value);\r\n         let diff = maxp - minp;\r\n\r\n         if (minp < 0) {\r\n            alert(\"minimum price cannot be less than 0\");\r\n            priceInputvalue[0].value = 0;\r\n            minp = 0;\r\n         }\r\n\r\n         // Validate the input values\r\n         if (maxp > max) {\r\n            alert(\"maximum price cannot be greater than \" + max);\r\n            priceInputvalue[1].value = max;\r\n            maxp = max;\r\n         }\r\n\r\n         if (minp > maxp - priceGap) {\r\n            priceInputvalue[0].value = maxp - priceGap;\r\n            minp = maxp - priceGap;\r\n\r\n            if (minp < 0) {\r\n               priceInputvalue[0].value = 0;\r\n               minp = 0;\r\n            }\r\n         }\r\n\r\n         // Check if the price gap is met\r\n         // and max price is within the range\r\n         if (diff >= priceGap && maxp <= rangeInputvalue[1].max) {\r\n            if (e.target.className === \"min-input\") {\r\n               rangeInputvalue[0].value = minp;\r\n               let value1 = rangeInputvalue[0].max;\r\n               rangevalue.style.left = `${(minp / value1) * 100}%`;\r\n            } else {\r\n               rangeInputvalue[1].value = maxp;\r\n               let value2 = rangeInputvalue[1].max;\r\n               rangevalue.style.right = `${100 - (maxp / value2) * 100}%`;\r\n            }\r\n         }\r\n      });\r\n\r\n      // Add event listeners to range input elements\r\n      for (let i = 0; i < rangeInputvalue.length; i++) {\r\n         rangeInputvalue[i].addEventListener(\"input\", (e) => {\r\n            let minVal = parseInt(rangeInputvalue[0].value);\r\n            let maxVal = parseInt(rangeInputvalue[1].value);\r\n\r\n            let diff = maxVal - minVal;\r\n\r\n            // Check if the price gap is exceeded\r\n            if (diff < priceGap) {\r\n               // Check if the input is the min range input\r\n               if (e.target.className === \"min-range\") {\r\n                  rangeInputvalue[0].value = maxVal - priceGap;\r\n               } else {\r\n                  rangeInputvalue[1].value = minVal + priceGap;\r\n               }\r\n            } else {\r\n               // Update price inputs and range progress\r\n               priceInputvalue[0].value = minVal;\r\n               priceInputvalue[1].value = maxVal;\r\n               rangevalue.style.left = `${\r\n                  (minVal / rangeInputvalue[0].max) * 100\r\n               }%`;\r\n               rangevalue.style.right = `${\r\n                  100 - (maxVal / rangeInputvalue[1].max) * 100\r\n               }%`;\r\n            }\r\n         });\r\n      }\r\n   }\r\n}\r\n\r\nfunction devideNumber(start) {\r\n   let int = String(start);\r\n   if (int.length <= 3) return int;\r\n   let space = 0;\r\n   let number = \"\";\r\n\r\n   for (let i = int.length - 1; i >= 0; i--) {\r\n      if (space == 3) {\r\n         number = \" \" + number;\r\n         space = 0;\r\n      }\r\n      number = int.charAt(i) + number;\r\n      space++;\r\n   }\r\n\r\n   return number;\r\n}\r\nfunction productPage() {\r\n   function initProductPageSlider() {\r\n      if (!document.querySelector(\".product-hero__gallery .swiper\")) return;\r\n      const swiper = new Swiper(\".product-hero__gallery .swiper\", {\r\n         slidesPerView: 1,\r\n         speed: 700,\r\n         loop: true,\r\n         pagination: {\r\n            el: \".product-hero__gallery .swiper .swiper-pagination\",\r\n         },\r\n      });\r\n   }\r\n\r\n   function initProductPageFeaturesSlider() {\r\n      if (!document.querySelector(\".product-features__textslider\")) return;\r\n      let imageSlider = new Swiper(\".product-features__imageslider\", {\r\n         watchSlidesProgress: true,\r\n         speed: 700,\r\n         effect: \"creative\",\r\n         creativeEffect: {\r\n            prev: {\r\n               shadow: true,\r\n               translate: [\"-20%\", 0, -1],\r\n            },\r\n            next: {\r\n               translate: [\"100%\", 0, 0],\r\n            },\r\n         },\r\n      });\r\n      let textSlider = new Swiper(\".product-features__textslider\", {\r\n         parallax: true,\r\n         slidesPerView: 1,\r\n         speed: 700,\r\n         mousewheel: {\r\n            enabled: true,\r\n            forceToAxis: true,\r\n         },\r\n         effect: \"fade\",\r\n         thumbs: {\r\n            swiper: imageSlider,\r\n         },\r\n         pagination: {\r\n            el: \".product-features__pagination\",\r\n         },\r\n         navigation: {\r\n            nextEl: \".product-features__footer .swiper-button-next\",\r\n            prevEl: \".product-features__footer .swiper-button-prev\",\r\n         },\r\n      });\r\n   }\r\n   const hoverOnDocuments = () => {\r\n      const items = document.querySelectorAll(\".product-document\");\r\n      if (!items.length) return;\r\n      items.forEach((item, i) => {\r\n         const bg = item.querySelector(\".product-document__bg\");\r\n         item.onmouseenter = (e) => {\r\n            if (i > 0) {\r\n               items[i - 1].style.borderBottomColor = \"transparent\";\r\n            }\r\n            let h = item.offsetHeight;\r\n\r\n            if (e.layerY > h / 2) {\r\n               // bg.style.color = \"100% 0%;\";\r\n               bg.style.transformOrigin = \"100% 0%\";\r\n            } else {\r\n               bg.style.transformOrigin = \"0 100%\";\r\n            }\r\n            bg.style.translate = \"0 0 \";\r\n         };\r\n         item.onmouseleave = (e) => {\r\n            if (i > 0) {\r\n               items[i - 1].style.borderBottomColor = \"\";\r\n            }\r\n            let h = item.offsetHeight;\r\n\r\n            if (e.layerY > h / 2) {\r\n               // bg.style.color = \"100% 0%;\";\r\n               bg.style.transformOrigin = \"100% 0%\";\r\n               bg.style.translate = \"0 100%\";\r\n            } else {\r\n               bg.style.translate = \"0 -100%\";\r\n               bg.style.transformOrigin = \"0 100%\";\r\n            }\r\n         };\r\n         item.onmousemove = (e) => {};\r\n      });\r\n   };\r\n   hoverOnDocuments();\r\n   initProductPageSlider();\r\n   initProductPageFeaturesSlider();\r\n   tabs(\"[name='productPageTabs']\", \".product-page__tab\");\r\n   tabs(\"[name='bonusModalTabs']\", \".bonus-modal__item\");\r\n   tabs(\"[name='installmentModalTabs']\", \".installment-modal__item\");\r\n\r\n   const shutter = document.querySelector(\".product-actions__main\");\r\n   const mobileShutter = () => {\r\n      const footer = document.querySelector(\".footer\");\r\n      if (window.innerWidth >= 1024) {\r\n         shutter.classList.remove(\"hidden\");\r\n         return;\r\n      }\r\n      if (window.innerHeight - footer.getBoundingClientRect().top > 0) {\r\n         shutter.classList.contains(\"hidden\")\r\n            ? \"\"\r\n            : shutter.classList.add(\"hidden\");\r\n      } else {\r\n         shutter.classList.remove(\"hidden\");\r\n      }\r\n   };\r\n   if (shutter) {\r\n      mobileShutter();\r\n      window.addEventListener(\"scroll\", mobileShutter);\r\n      window.addEventListener(\"resize\", mobileShutter);\r\n   }\r\n   function initPlayer() {\r\n      if (!document.querySelector(\"#productPagePlayer\")) return;\r\n      let player = new Player(\"#productPagePlayer\", {\r\n         data: [\r\n            {\r\n               src: \"files/1.mp3\",\r\n            },\r\n            {\r\n               src: \"files/2.mp3\",\r\n            },\r\n         ],\r\n         onPause() {\r\n            btn.classList.remove(\"playing\");\r\n         },\r\n         onPlay() {\r\n            btn.classList.add(\"playing\");\r\n         },\r\n      });\r\n      const btn = document.querySelector(\".product-hero__play\");\r\n      const close = document.querySelector(\".my-player__close\");\r\n      btn.addEventListener(\"click\", () => {\r\n         if (player.isPausedCurrent()) {\r\n            player.play();\r\n         } else {\r\n            player.pauseCurrent();\r\n         }\r\n         player.$el.classList.add(\"show\");\r\n      });\r\n      close.addEventListener(\"click\", () => {\r\n         player.$el.classList.remove(\"show\");\r\n         player.stop();\r\n      });\r\n   }\r\n   initPlayer();\r\n}\r\nfunction initSeriaSwiper() {\r\n   if (!document.querySelector(\".seria-more .swiper\")) return;\r\n   let slider = new Swiper(\".seria-more .swiper\", {\r\n      slidesPerView: \"auto\",\r\n      spaceBetween: 8,\r\n      speed: 800,\r\n      breakpoints: {\r\n         569: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 10,\r\n         },\r\n      },\r\n   });\r\n}\r\nfunction animations() {\r\n   const animateProductPleasure = () => {\r\n      const items = document.querySelectorAll(\".product-pleasure__list li\");\r\n      if (!items.length) return;\r\n      const borders = document.querySelectorAll(\r\n         \".product-pleasure__list li .b\"\r\n      );\r\n      items.forEach((item) => {\r\n         gsap.from(item, {\r\n            scrollTrigger: {\r\n               trigger: item, // элемент, который должен запускать анимацию\r\n               start: \"top 90%\", // когда верх элемента достигает 80% высоты экрана\r\n               end: \"top 80%\", // когда низ элемента достигает 20% высоты экрана\r\n               // markers: true, // включить маркеры для визуальной отладки\r\n               scrub: 1.5,\r\n            },\r\n            x: -30,\r\n            color: \"#fff\",\r\n            duration: 1,\r\n         });\r\n      });\r\n      borders.forEach((item) => {\r\n         gsap.from(item, {\r\n            scrollTrigger: {\r\n               trigger: item, // элемент, который должен запускать анимацию\r\n               start: \"top 90%\", // когда верх элемента достигает 80% высоты экрана\r\n               end: \"top 80%\", // когда низ элемента достигает 20% высоты экрана\r\n               // markers: true, // включить маркеры для визуальной отладки\r\n               scrub: 1.5,\r\n            },\r\n            scaleX: 0,\r\n            duration: 1,\r\n         });\r\n      });\r\n   };\r\n   const animateAboutPage = () => {\r\n      const hero = document.querySelector(\".about-hero\");\r\n      const panel = document.querySelector(\".about-hero__row\");\r\n      const years = document.querySelectorAll(\".about-year\");\r\n      const yearsLists = document.querySelectorAll(\".about-hero__list li\");\r\n      // const main = document.querySelector(\".about-main\");\r\n      if (!panel) return;\r\n      gsap.to(panel, {\r\n         scrollTrigger: {\r\n            trigger: hero, // элемент, который должен запускать анимацию\r\n            start: \"top -5%\", // когда верх элемента достигает 80% высоты экрана\r\n            end: \"bottom -1000%\", // когда низ элемента достигает 20% высоты экрана\r\n            // markers: true, // включить маркеры для визуальной отладки\r\n            scrub: 1.5,\r\n            onEnter: () => {\r\n               panel.classList.add(\"sticky\");\r\n               hero.classList.add(\"sticky\");\r\n               // main.classList.add(\"sticky\");\r\n            },\r\n            onLeave: () => {\r\n               panel.classList.remove(\"sticky\");\r\n               hero.classList.remove(\"sticky\");\r\n               // main.classList.remove(\"sticky\");\r\n            },\r\n            onEnterBack: () => {\r\n               panel.classList.add(\"sticky\");\r\n               hero.classList.add(\"sticky\");\r\n               // main.classList.add(\"sticky\");\r\n            },\r\n            onLeaveBack: () => {\r\n               panel.classList.remove(\"sticky\");\r\n               hero.classList.remove(\"sticky\");\r\n               // main.classList.remove(\"sticky\");\r\n            },\r\n         },\r\n      });\r\n      gsap.to(hero, {\r\n         scrollTrigger: {\r\n            trigger: hero, // элемент, который должен запускать анимацию\r\n            start: \"top top\", // когда верхняя часть panel достигает верхней части экрана\r\n            end: \"bottom -1000%\", // когда нижняя часть panel достигает верхней части экрана\r\n            // markers: true, // включить маркеры для визуальной отладки\r\n            scrub: 1.5,\r\n            pin: true, // Фиксирует элемент\r\n            pinSpacing: false, // Убирает отступ после окончания анимации\r\n            // onEnter: () => {\r\n            //    console.log(\"onEnter\");\r\n            // },\r\n            // onLeave: () => {\r\n            //    console.log(\"onLeave\");\r\n            // },\r\n            // onEnterBack: () => {\r\n            //    console.log(\"onEnterBack\");\r\n            // },\r\n            // onLeaveBack: () => {\r\n            //    console.log(\"onLeaveBack\");\r\n            // },\r\n         },\r\n      });\r\n      years.forEach((year, index) => {\r\n         gsap.to(year, {\r\n            scrollTrigger: {\r\n               trigger: year, // элемент, который должен запускать анимацию\r\n               start: \"top 300px\", // когда верх элемента достигает 80% высоты экрана\r\n               end: \"bottom +=300px\", // когда низ элемента достигает 20% высоты экрана\r\n               // markers: true, // включить маркеры для визуальной отладки\r\n               scrub: 1.5,\r\n               onEnter: () => {\r\n                  // console.log(\"onEnter\", index);\r\n                  yearsLists.forEach((item) => {\r\n                     item.classList.remove(\"active\");\r\n                     item.style.translate = `0 -${\r\n                        (item.offsetHeight + 10) * index\r\n                     }px`;\r\n                  });\r\n                  yearsLists[index].classList.add(\"active\");\r\n               },\r\n               onLeave: () => {\r\n                  // console.log(\"onLeave\", index);\r\n               },\r\n               onEnterBack: () => {\r\n                  // console.log(\"onEnterBack\", index);\r\n                  yearsLists.forEach((item) => {\r\n                     item.classList.remove(\"active\");\r\n                     item.style.translate = `0 -${\r\n                        (item.offsetHeight + 10) * index\r\n                     }px`;\r\n                  });\r\n                  yearsLists[index].classList.add(\"active\");\r\n               },\r\n               onLeaveBack: () => {\r\n                  // console.log(\"onLeaveBack\", index);\r\n               },\r\n            },\r\n         });\r\n      });\r\n      gsap.utils.toArray(years).forEach((section, index) => {\r\n         // Скроллим каждую секцию\r\n         gsap.fromTo(\r\n            section,\r\n            { y: 0, zIndex: index }, // Исходная позиция\r\n            {\r\n               ease: \"none\",\r\n               scrollTrigger: {\r\n                  trigger: section,\r\n                  start: \"top top\", // Когда верх секции достигает верха окна\r\n                  end: \"bottom top\", // Когда низ секции достигает верха окна\r\n                  scrub: true, // Анимация связана со скроллом\r\n                  pin: true, // Можно выключить pin для плавности\r\n                  onEnter: () => {\r\n                     console.log(\"onEnter\");\r\n                  },\r\n                  onLeave: () => {\r\n                     console.log(\"onLeave\");\r\n                  },\r\n                  onEnterBack: () => {\r\n                     console.log(\"onEnterBack\");\r\n                  },\r\n                  onLeaveBack: () => {\r\n                     console.log(\"onLeaveBack\");\r\n                  },\r\n                  onUpdate: (self) => {\r\n                     if (\r\n                        section.offsetHeight * (1 - self.progress) <=\r\n                        window.innerHeight - 30\r\n                     )\r\n                        return;\r\n                     section.style.translate = `0px ${self.progress * -100}%`;\r\n                  },\r\n               },\r\n            }\r\n         );\r\n      });\r\n   };\r\n   animateProductPleasure();\r\n   animateAboutPage();\r\n}\r\n\r\nfunction authModals() {\r\n   const modal = document.querySelector(\"#authModal\");\r\n   if (!modal) return;\r\n   tabs(\"[name='authModalTabs']\", \".auth-modal__tab\");\r\n\r\n   const validateTel = () => {\r\n      const input = document.querySelector(\"#authPhone\");\r\n      const btn = document.querySelector(\"#regBtn\");\r\n      input.addEventListener(\"input\", (e) => {\r\n         if (e.target.value.length == 16) {\r\n            btn.classList.remove(\"disabled\");\r\n         } else {\r\n            btn.classList.add(\"disabled\");\r\n         }\r\n      });\r\n   };\r\n\r\n   const validateConfirmTel = () => {\r\n      const input = document.querySelector(\"#confirmNumberInput\");\r\n      const btn = document.querySelector(\"#confirmNumberBtn\");\r\n      const span = document.querySelector(\"#confirmTelOneMore\");\r\n      const send = document.querySelector(\"#confirmTelOneMoreSend\");\r\n      const spanTimer = span.querySelector(\"span\");\r\n      let isSend = false;\r\n\r\n      const sendMessage = () => {\r\n         let timer = setInterval(() => {\r\n            spanTimer.innerHTML = spanTimer.innerHTML - 1;\r\n            if (spanTimer.innerHTML == 0) {\r\n               clearInterval(timer);\r\n               isSend = false;\r\n               spanTimer.innerHTML = 30;\r\n               send.style.display = \"block\";\r\n               span.style.display = \"none\";\r\n            }\r\n         }, 1000);\r\n      };\r\n\r\n      input.addEventListener(\"input\", (e) => {\r\n         if (e.target.value) {\r\n            btn.classList.remove(\"disabled\");\r\n         } else {\r\n            btn.classList.add(\"disabled\");\r\n         }\r\n      });\r\n      btn.addEventListener(\"click\", () => {\r\n         if (isSend) return;\r\n         isSend = true;\r\n\r\n         sendMessage();\r\n      });\r\n      send.addEventListener(\"click\", (e) => {\r\n         send.style.display = \"none\";\r\n         span.style.display = \"block\";\r\n         sendMessage();\r\n      });\r\n   };\r\n\r\n   validateTel();\r\n   validateConfirmTel();\r\n}\r\nfunction orderPage() {\r\n   if (!document.querySelector(\"#orderAddressSelect\")) return;\r\n   const orderAddressSelect = new Select(\"#orderAddressSelect\", {\r\n      placeholder: \"Город\",\r\n      // selectedId: \"volg\",\r\n      data: [\r\n         {\r\n            id: \"Москва\",\r\n            value: \"Москва\",\r\n         },\r\n         {\r\n            id: \"Волгоград\",\r\n            value: \"Волгоград\",\r\n         },\r\n         {\r\n            id: \"Батуми\",\r\n            value: \"Батуми\",\r\n         },\r\n      ],\r\n      onSelect(item, select) {\r\n         select.classList.add(\"filled\");\r\n      },\r\n   });\r\n   tabs(\"[name='orderTabs']\", \".order-tab\");\r\n}\r\nfunction orderSuccessPage() {\r\n   // const swiper = new Swiper(\".order-news .swiper\", {\r\n   //    slidesPerView: 2,\r\n   //    spaceBetween: 10,\r\n   //    breakpoints: {\r\n   //       1440: {\r\n   //          slidesPerView: 4,\r\n   //       },\r\n   //       1200: {\r\n   //          slidesPerView: 3,\r\n   //       },\r\n   //    },\r\n   // });\r\n}\r\nfunction accordion(linkSelector, contentSelector) {\r\n   // получаем линки\r\n   const openLinks = document.querySelectorAll(`${linkSelector}`);\r\n   // контенты\r\n   const contents = document.querySelectorAll(`${contentSelector}`);\r\n   if (openLinks.length > 0) {\r\n      for (let i = 0; i < openLinks.length; i++) {\r\n         let openLink = openLinks[i];\r\n         openLink.addEventListener(\"click\", () => {\r\n            // все прячем\r\n            for (let j = 0; j < contents.length; j++) {\r\n               // если хоть один открывается - return\r\n               if (contents[j].classList.contains(\"collapsing\")) {\r\n                  return;\r\n               } // Иначе\r\n               // все прячем\r\n               slideHide(contents[j]);\r\n            }\r\n            for (let j = 0; j < openLinks.length; j++) {\r\n               openLinks[j].classList.remove(\"active\");\r\n            }\r\n            // записываем в переменную нужный таб\r\n            let content = contents[i];\r\n            // работаем с классами линка\r\n            if (content.classList.contains(\"collapsing\")) {\r\n               return;\r\n            } else if (content.classList.contains(\"collapse_show\")) {\r\n               openLink.classList.remove(\"active\");\r\n            } else {\r\n               openLink.classList.add(\"active\");\r\n            }\r\n            // показываем нужный\r\n            slideShow(content);\r\n         });\r\n      }\r\n   }\r\n}\r\n\r\nfunction slideShow(el, duration = 500) {\r\n   // завершаем работу метода, если элемент содержит класс collapsing или collapse_show\r\n   if (\r\n      el.classList.contains(\"collapsing\") ||\r\n      el.classList.contains(\"collapse_show\")\r\n   ) {\r\n      return;\r\n   }\r\n   // удаляем класс collapse\r\n   el.classList.remove(\"collapse\");\r\n   // сохраняем текущую высоту элемента в константу height (это значение понадобится ниже)\r\n   const height = el.offsetHeight;\r\n   // устанавливаем высоте значение 0\r\n   el.style[\"height\"] = 0;\r\n   // не отображаем содержимое элемента, выходящее за его пределы\r\n   el.style[\"overflow\"] = \"hidden\";\r\n   // создание анимации скольжения с помощью CSS свойства transition\r\n   el.style[\"transition\"] = `height ${duration}ms ease`;\r\n   // добавляем класс collapsing\r\n   el.classList.add(\"collapsing\");\r\n   // получим значение высоты (нам этого необходимо для того, чтобы просто заставить браузер выполнить перерасчет макета, т.к. он не сможет нам вернуть правильное значение высоты, если не сделает это)\r\n   el.offsetHeight;\r\n   // установим в качестве значения высоты значение, которое мы сохранили в константу height\r\n   el.style[\"height\"] = `${height}px`;\r\n   // по истечении времени анимации this._duration\r\n   window.setTimeout(() => {\r\n      // удалим класс collapsing\r\n      el.classList.remove(\"collapsing\");\r\n      // добавим классы collapse и collapse_show\r\n      el.classList.add(\"collapse\");\r\n      el.classList.add(\"collapse_show\");\r\n      // удалим свойства height, transition и overflow\r\n      el.style[\"height\"] = \"\";\r\n      el.style[\"transition\"] = \"\";\r\n      el.style[\"overflow\"] = \"\";\r\n   }, duration);\r\n}\r\nfunction slideHide(el, duration = 500) {\r\n   // завершаем работу метода, если элемент содержит класс collapsing или collapse_show\r\n   if (\r\n      el.classList.contains(\"collapsing\") ||\r\n      !el.classList.contains(\"collapse_show\")\r\n   ) {\r\n      return;\r\n   }\r\n   // установим свойству height текущее значение высоты элемента\r\n   el.style[\"height\"] = `${el.offsetHeight}px`;\r\n   // получим значение высоты\r\n   el.offsetHeight;\r\n   // установим CSS свойству height значение 0\r\n   el.style[\"height\"] = 0;\r\n   // обрежем содержимое, выходящее за границы элемента\r\n   el.style[\"overflow\"] = \"hidden\";\r\n   // добавим CSS свойство transition для осуществления перехода длительностью this._duration\r\n   el.style[\"transition\"] = `height ${duration}ms ease`;\r\n   // удалим классы collapse и collapse_show\r\n   el.classList.remove(\"collapse\");\r\n   el.classList.remove(\"collapse_show\");\r\n   // добавим класс collapsing\r\n   el.classList.add(\"collapsing\");\r\n   // после завершения времени анимации\r\n   window.setTimeout(() => {\r\n      // удалим класс collapsing\r\n      el.classList.remove(\"collapsing\");\r\n      // добавим класс collapsing\r\n      el.classList.add(\"collapse\");\r\n      // удалим свойства height, transition и overflow\r\n      el.style[\"height\"] = \"\";\r\n      el.style[\"transition\"] = \"\";\r\n      el.style[\"overflow\"] = \"\";\r\n   }, duration);\r\n}\r\n\r\nfunction tabs(linkSelector, contentSelector) {\r\n   const inputs = document.querySelectorAll(linkSelector);\r\n   const contents = document.querySelectorAll(contentSelector);\r\n   let value;\r\n   if (inputs.length) {\r\n      inputs.forEach((item) => {\r\n         item.addEventListener(\"change\", () => {\r\n            if (item.checked) {\r\n               value = item.value;\r\n            }\r\n            contents.forEach((item) => {\r\n               item.classList.remove(\"active\");\r\n               if (item.getAttribute(\"data-tab\") == value) {\r\n                  item.classList.add(\"active\");\r\n               }\r\n            });\r\n         });\r\n      });\r\n   }\r\n}\r\n\r\n// Popup\r\nconst popupLinks = document.querySelectorAll(\".modal__link\");\r\nconst lockPadding = document.querySelectorAll(\".lock-padding\");\r\nconst popupCloseIcon = document.querySelectorAll(\".modal__close\");\r\n\r\nlet unlock = true;\r\n\r\nconst timeout = 500;\r\n\r\nif (popupLinks.length > 0) {\r\n   for (let index = 0; index < popupLinks.length; index++) {\r\n      const popupLink = popupLinks[index];\r\n      popupLink.addEventListener(\"click\", function (e) {\r\n         const popupName = popupLink.getAttribute(\"href\").replace(\"#\", \"\");\r\n         const curentPopup = document.getElementById(popupName);\r\n         popupOpen(curentPopup);\r\n         e.preventDefault();\r\n      });\r\n   }\r\n}\r\n\r\nif (popupCloseIcon.length > 0) {\r\n   for (let index = 0; index < popupCloseIcon.length; index++) {\r\n      const el = popupCloseIcon[index];\r\n      el.addEventListener(\"click\", function (e) {\r\n         popupClose(el.closest(\".modal\"));\r\n         e.preventDefault();\r\n      });\r\n   }\r\n}\r\n\r\nfunction popupOpen(curentPopup) {\r\n   if (curentPopup && unlock) {\r\n      const popupActive = document.querySelector(\".modal.open\");\r\n      if (popupActive) {\r\n         popupClose(popupActive, false);\r\n      } else {\r\n         bodyLock();\r\n      }\r\n      curentPopup.classList.add(\"open\");\r\n      curentPopup.addEventListener(\"click\", function (e) {\r\n         if (!e.target.closest(\".modal__content\")) {\r\n            popupClose(e.target.closest(\".modal\"));\r\n         }\r\n      });\r\n   }\r\n}\r\nfunction popupClose(popupActive, doUnlock = true) {\r\n   if (unlock) {\r\n      popupActive.classList.remove(\"open\");\r\n      if (doUnlock) {\r\n         bodyUnLock();\r\n      }\r\n   }\r\n}\r\n\r\nfunction bodyLock() {\r\n   const lockPaddingValue =\r\n      window.innerWidth - document.querySelector(\".wrapper\").offsetWidth + \"px\";\r\n\r\n   if (lockPadding.length > 0) {\r\n      for (let index = 0; index < lockPadding.length; index++) {\r\n         const el = lockPadding[index];\r\n         el.style.paddingRight = lockPaddingValue;\r\n      }\r\n   }\r\n   body.style.paddingRight = lockPaddingValue;\r\n   // body.classList.add(\"lock\");\r\n   lenis.stop();\r\n\r\n   unlock = false;\r\n   setTimeout(function () {\r\n      unlock = true;\r\n   }, timeout);\r\n}\r\n\r\nfunction bodyUnLock() {\r\n   setTimeout(function () {\r\n      if (lockPadding.length > 0) {\r\n         for (let index = 0; index < lockPadding.length; index++) {\r\n            const el = lockPadding[index];\r\n            el.style.paddingRight = \"0px\";\r\n         }\r\n      }\r\n      body.style.paddingRight = \"0px\";\r\n      // body.classList.remove(\"lock\");\r\n      lenis.start();\r\n   }, timeout);\r\n\r\n   unlock = false;\r\n   setTimeout(function () {\r\n      unlock = true;\r\n   }, timeout);\r\n}\r\n\r\ndocument.addEventListener(\"keydown\", function (e) {\r\n   if (e.which === 27) {\r\n      const popupActive = document.querySelector(\".modal.open\");\r\n      popupClose(popupActive);\r\n   }\r\n});\r\n\r\nconst maskOptions = {\r\n   mask: \"+{7} 000 000 00 00\",\r\n   // lazy: false,  // make placeholder always visible\r\n   // placeholderChar: '0'     // defaults to '_'\r\n};\r\nif (document.querySelectorAll(\"[data-phone]\").length) {\r\n   document.querySelectorAll(\"[data-phone]\").forEach((item) => {\r\n      const mask = IMask(item, maskOptions);\r\n   });\r\n}\r\nclass Select {\r\n   constructor(selector, options) {\r\n      this.$el = document.querySelector(selector);\r\n      this.options = options;\r\n      this.selectedId = options.selectedId;\r\n\r\n      this.#render();\r\n      this.#setup();\r\n   }\r\n   #render() {\r\n      this.$el.classList.add(\"select\");\r\n      const { placeholder, data, selectedId } = this.options;\r\n      this.$el.innerHTML = this.getTemplate(data, placeholder, selectedId);\r\n      if (placeholder) {\r\n         this.$el\r\n            .querySelector(`[data-type=\"input\"]`)\r\n            .classList.add(\"placeholder\");\r\n      }\r\n   }\r\n   #setup() {\r\n      this.clickHandler = this.clickHandler.bind(this);\r\n      this.$el.addEventListener(\"click\", this.clickHandler);\r\n      this.$value = this.$el.querySelector(`[data-type=\"input\"] span`);\r\n   }\r\n   clickHandler(event) {\r\n      const { type } = event.target.dataset;\r\n      if (type === \"input\") {\r\n         this.toggle();\r\n      } else if (type === \"item\") {\r\n         const { id } = event.target.dataset;\r\n         this.select(id);\r\n      } else if (type === \"back\") {\r\n         this.toggle();\r\n      } else if (type === \"header\") {\r\n         this.toggle();\r\n      } else if (event.target.closest(\".select__header\")) [this.toggle()];\r\n   }\r\n   get current() {\r\n      return this.options.data.find((item) => item.id === this.selectedId);\r\n   }\r\n   select(id) {\r\n      this.$el\r\n         .querySelector(`[data-type=\"input\"]`)\r\n         .classList.remove(\"placeholder\");\r\n      this.selectedId = id;\r\n      this.$value.innerHTML = this.current.value;\r\n      this.$el.querySelectorAll(`[data-type=\"item\"]`).forEach((item) => {\r\n         item.classList.remove(\"selected\");\r\n      });\r\n      this.$el\r\n         .querySelector(`[data-id =${this.current.id}]`)\r\n         .classList.add(\"selected\");\r\n      this.close();\r\n\r\n      if (this.options.onSelect) {\r\n         this.options.onSelect(this.current, this.$el);\r\n      }\r\n   }\r\n   open() {\r\n      this.$el.classList.add(\"open\");\r\n   }\r\n   close() {\r\n      this.$el.classList.remove(\"open\");\r\n   }\r\n   toggle() {\r\n      if (this.$el.classList.contains(\"open\")) {\r\n         this.close();\r\n      } else {\r\n         this.open();\r\n      }\r\n   }\r\n   getTemplate(data, placeholder = `<span></span>`, selectedId) {\r\n      const items = data.map((item) => {\r\n         let cls = \"\";\r\n         if (item.id === selectedId) {\r\n            placeholder = item.value;\r\n            cls = \"selected\";\r\n         }\r\n         return `<li class=\"select__item ${cls}\" data-type=\"item\" data-id=\"${item.id}\">${item.value}</li>`;\r\n      });\r\n      return `\r\n      <div class=\"select__header\" data-type=\"header\">\r\n      <div class=\"select__back\" data-type=\"back\"></div>\r\n      <div class=\"select__title\" data-type=\"input\">\r\n         <span>${placeholder}</span>\r\n         <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M4 6L8 10L12 6\" stroke=\"#0E0E0E\" stroke-linecap=\"round\"/>\r\n         </svg>\r\n    </div>\r\n      </div>\r\n      <div class=\"select__content\">\r\n         <ul class=\"select__list\">\r\n            ${items.join(\"\")}\r\n         </ul>\r\n      </div>\r\n      `;\r\n   }\r\n}\r\nclass Player {\r\n   $el;\r\n   $selector;\r\n   options;\r\n   currentSongIndex;\r\n   items;\r\n   contents;\r\n   progressBar;\r\n   duration;\r\n   timer;\r\n   constructor(selector, options) {\r\n      this.$el = document.querySelector(selector);\r\n      this.$selector = selector;\r\n      this.options = options;\r\n      this.currentSongIndex = options?.current || 0;\r\n      this.#render();\r\n      this.items = this.$el.querySelectorAll(\".player__songs li audio\");\r\n      this.contents = this.$el.querySelectorAll(\".player__item\");\r\n      this.initProgressBar();\r\n      this.progressBar = this.$el.querySelector(\".player__progress\");\r\n      this.#setup();\r\n      this.setTime();\r\n   }\r\n   #render() {\r\n      this.$el.classList.add(\"player\");\r\n      const { data } = this.options;\r\n      this.$el.insertAdjacentHTML(\"beforeend\", this.getTemplate(data));\r\n   }\r\n   #setup() {\r\n      this.clickHandler = this.clickHandler.bind(this);\r\n      this.$el.addEventListener(\"click\", this.clickHandler);\r\n   }\r\n\r\n   initProgressBar() {\r\n      const range = this.$el.querySelector('input[type=\"range\"]');\r\n\r\n      range.addEventListener(\"input\", (e) => {\r\n         clearInterval(this.timer);\r\n         this.setTime();\r\n         this.pauseCurrent();\r\n         range.style.setProperty(\"--value\", `${e.target.value}%`);\r\n         this.items[this.currentSongIndex].currentTime =\r\n            (e.target.value / 100) * this.duration;\r\n      });\r\n      range.addEventListener(\"change\", (e) => {\r\n         this.playCurrent();\r\n      });\r\n   }\r\n   getTemplate(data) {\r\n      const items = data.map((item) => {\r\n         return `<li><audio src=\"${item.src}\"></audio></li>`;\r\n      });\r\n      return `\r\n         <ul class=\"player__songs\">\r\n            ${items.join(\"\")}\r\n         </ul>\r\n      `;\r\n   }\r\n   playCurrent() {\r\n      this.items[this.currentSongIndex].play();\r\n      this.$el.classList.add(\"playing\");\r\n      clearInterval(this.timer);\r\n      this.setTime();\r\n      if (this.options.onPlay) {\r\n         this.options.onPlay(this);\r\n      }\r\n   }\r\n   play(index) {\r\n      if (index) {\r\n         this.currentSongIndex = index;\r\n      }\r\n      this.playCurrent();\r\n   }\r\n   pauseCurrent() {\r\n      this.items[this.currentSongIndex].pause();\r\n      this.$el.classList.remove(\"playing\");\r\n      if (this.options.onPause) {\r\n         this.options.onPause(this);\r\n      }\r\n      clearInterval(this.timer);\r\n      this.setTime();\r\n   }\r\n   isPausedCurrent() {\r\n      return this.items[this.currentSongIndex].paused;\r\n   }\r\n   toggleSwitch() {\r\n      if (this.isPausedCurrent()) {\r\n         this.playCurrent();\r\n      } else {\r\n         this.pauseCurrent();\r\n      }\r\n   }\r\n   onNextSong() {\r\n      if (this.currentSongIndex == this.options.data.length - 1) return;\r\n      this.pauseCurrent();\r\n      this.items[this.currentSongIndex].currentTime = 0.0;\r\n      this.currentSongIndex++;\r\n      this.playCurrent();\r\n      this.setTime();\r\n      this.makeActiveContent();\r\n      if (this.options.onNext) {\r\n         this.options.onNext(this);\r\n      }\r\n   }\r\n   onPrevSong() {\r\n      if (this.currentSongIndex <= 0) return;\r\n      this.pauseCurrent();\r\n      this.items[this.currentSongIndex].currentTime = 0.0;\r\n      this.currentSongIndex--;\r\n      this.playCurrent();\r\n      this.setTime();\r\n      this.makeActiveContent();\r\n      if (this.options.onPrev) {\r\n         this.options.onPrev(this);\r\n      }\r\n   }\r\n   makeActiveContent() {\r\n      this.contents.forEach((item) => {\r\n         item.classList.remove(\"active\");\r\n      });\r\n      this.contents[this.currentSongIndex].classList.add(\"active\");\r\n   }\r\n   clickHandler(event) {\r\n      let target = event.target;\r\n      if (target.closest(\".player__switch\")) {\r\n         this.toggleSwitch();\r\n      } else if (target.closest(\".player__prev\")) {\r\n         this.onPrevSong();\r\n      } else if (target.closest(\".player__next\")) {\r\n         this.onNextSong();\r\n      }\r\n   }\r\n   formatTime(seconds) {\r\n      const minutes = Math.floor(seconds / 60);\r\n      const remainingSeconds = Math.floor(seconds % 60);\r\n      // Добавляем 0 перед числом секунд, если оно меньше 10\r\n      return `${minutes}:${\r\n         remainingSeconds < 10 ? \"0\" : \"\"\r\n      }${remainingSeconds}`;\r\n   }\r\n   setTime() {\r\n      this.duration = this.items[this.currentSongIndex].duration;\r\n      const all = this.$el.querySelector(\".player__time_all\");\r\n      const current = this.$el.querySelector(\".player__time_current\");\r\n      all.innerHTML = this.formatTime(this.duration);\r\n      if (this.isPausedCurrent()) return;\r\n      this.timer = setInterval(() => {\r\n         this.setProgress();\r\n         current.innerHTML = this.formatTime(\r\n            this.items[this.currentSongIndex].currentTime\r\n         );\r\n         if (\r\n            this.duration - this.items[this.currentSongIndex].currentTime <\r\n            1\r\n         ) {\r\n            this.onNextSong();\r\n            clearInterval(this.timer);\r\n         }\r\n      }, 1000);\r\n   }\r\n   getProgress() {\r\n      return (\r\n         (this.items[this.currentSongIndex].currentTime / this.duration) * 100\r\n      );\r\n   }\r\n   setProgress() {\r\n      this.progressBar.value = this.getProgress();\r\n      this.progressBar.style.setProperty(\"--value\", `${this.getProgress()}%`);\r\n   }\r\n   stop() {\r\n      this.pauseCurrent();\r\n      this.items[this.currentSongIndex].currentTime = 0.0;\r\n   }\r\n}\r\n\r\nconst lenis = new Lenis({\r\n   duration: 2,\r\n   smooth: true,\r\n   direction: \"vertical\",\r\n   // lerp: 0.05,\r\n});\r\nwindow.lenis = lenis;\r\n\r\nfunction raf(time) {\r\n   lenis.raf(time);\r\n   requestAnimationFrame(raf);\r\n}\r\n\r\nrequestAnimationFrame(raf);\r\ndocument.querySelectorAll('a[href^=\"#\"]').forEach((anchor) => {\r\n   anchor.addEventListener(\"click\", function (e) {\r\n      e.preventDefault();\r\n      lenis.scrollTo(this.getAttribute(\"href\"));\r\n   });\r\n});\r\n\r\nfunction initSaleSwiper() {\r\n   if (!document.querySelector(\".sale-products .swiper\")) return;\r\n   const swiper = new Swiper(\".sale-products .swiper\", {\r\n      slidesPerView: \"auto\",\r\n      spaceBetween: 10,\r\n      breakpoints: {\r\n         993: {\r\n            slidesPerView: 2,\r\n         },\r\n      },\r\n   });\r\n}\r\nfunction profilePage() {\r\n   if (!document.querySelector(\"#accountAddressSelect\")) return;\r\n   const orderAddressSelect = new Select(\"#accountAddressSelect\", {\r\n      placeholder: \"Город\",\r\n      // selectedId: \"volg\",\r\n      data: [\r\n         {\r\n            id: \"Москва\",\r\n            value: \"Москва\",\r\n         },\r\n         {\r\n            id: \"Волгоград\",\r\n            value: \"Волгоград\",\r\n         },\r\n         {\r\n            id: \"Батуми\",\r\n            value: \"Батуми\",\r\n         },\r\n      ],\r\n      onSelect(item, select) {\r\n         select.classList.add(\"filled\");\r\n      },\r\n   });\r\n   tabs(\"[name='profileTabs']\", \".account-tab\");\r\n   accordion(\".account-order__header button\", \".account-order__spoiler\");\r\n}\r\n\r\nfunction comparePage() {\r\n   const productSlide = new Swiper(\".compare-page__slider .swiper\", {\r\n      slidesPerView: \"auto\",\r\n      breakpoints: {\r\n         1025: {\r\n            slidesPerView: 3,\r\n         },\r\n         569: {\r\n            slidesPerView: 2,\r\n         },\r\n      },\r\n      on: {\r\n         slideChange(s) {\r\n            let index = s.activeIndex;\r\n            diffSliders.forEach((slider) => {\r\n               slider.slideTo(index);\r\n            });\r\n         },\r\n      },\r\n   });\r\n   let diffSliders = [];\r\n   document.querySelectorAll(\"[data-compare-slider]\").forEach((item) => {\r\n      let diffSlider = new Swiper(item, {\r\n         slidesPerView: \"auto\",\r\n         breakpoints: {\r\n            1025: {\r\n               slidesPerView: 3,\r\n            },\r\n            569: {\r\n               slidesPerView: 2,\r\n            },\r\n         },\r\n         // cssMode: true,\r\n      });\r\n      diffSliders.push(diffSlider);\r\n   });\r\n}\r\n\n\n//# sourceURL=webpack://gulp-2022/./dist/js/app.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./dist/js/app.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;